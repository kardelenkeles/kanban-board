<form
  class="addTask"
  (ngSubmit)="addTask()">
  <div class="form">
    <label class="form-label">
      Task Header:
      <input
        type="text"
        name="Header"
        class="form-control"
        [(ngModel)]="newHeader"
      >
    </label>
  </div>
  <div class="form">
    <label class="form-label">
      Task Content:
      <input
        type="text"
        name="Content"
        class="form-control"
        [(ngModel)]="newContent"
      >
    </label>
  </div>
  <button type="submit" class="btn btn-dark">Add</button>
</form>


<div class="flex-container">
  <div cdkDropListGroup>
    <div class="card">
      <h2>Backlog</h2>

      <div
        class="card-body"
        cdkDropList
        [cdkDropListData]="backlog"
        (cdkDropListDropped)="drop($event)">
        <div class="example-box" *ngFor="let item of backlog" cdkDrag>
          <div class="editable-content"
               (click)="startEditing()"
               *ngIf="!isEditing"
               [contentEditable]="isEditing"
          >
            <div class="header">{{item.header}}</div>
          </div>
          <input
                *ngIf="isEditing && newLabel === editedTask"
                [(ngModel)]="newLabel"
                (blur)="addTask()"
                (keyup.enter)="addTask()"
          />

          <div class="editable-content"
               (blur)="addTask()"
               [contentEditable]="isEditing"
               [(ngModel)]="newLabel"
          >
            <div class="content">{{item.content}}</div>
          </div>
        </div>


      </div>
    </div>

    <div class="card">
      <h2>To do</h2>

      <div
        class="card-body"
        cdkDropList
        [cdkDropListData]="todo"
        (cdkDropListDropped)="drop($event)">
        <div class="example-box" *ngFor="let item of todo" cdkDrag>
          <div class="box">
            {{item.header}}
            {{item.content}}
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>In progress</h2>

      <div
        class="card-body"
        cdkDropList
        [cdkDropListData]="inProgress"
        (cdkDropListDropped)="drop($event)">
        <div class="example-box" *ngFor="let item of inProgress" cdkDrag>
          {{item.header}}
          {{item.content}}
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Done</h2>

      <div
        class="card-body"
        cdkDropList
        [cdkDropListData]="done"
        (cdkDropListDropped)="drop($event)">
        <div class="example-box" *ngFor="let item of done" cdkDrag>
          {{item.header}}
          {{item.content}}
        </div>
      </div>
    </div>
  </div>

</div>
