<form
  class="addTask"
  (ngSubmit)="addTask()">
  <div class="form">
    <label class="form-label">
      Task Header:
      <input
        type="text"
        name="Header"
        class="form-control"
        [(ngModel)]="newHeader"
      >
    </label>
  </div>
  <div class="form">
    <label class="form-label">
      Task Content:
      <input
        type="text"
        name="Content"
        class="form-control"
        [(ngModel)]="newContent"
      >
    </label>
  </div>
  <button type="submit" class="btn btn-dark">Add</button>
</form>


<div class="flex-container">
  <div cdkDropListGroup>
    <div *ngFor="let column of columns" class="card">
      <h2>{{column}}</h2>

      <div
        class="card-body"
        cdkDropList
        [cdkDropListData]="allTasks[column]"
        (cdkDropListDropped)="drop($event, column)">
        <div class="example-box" *ngFor="let item of allTasks[column]" cdkDrag>
          <i
            class="bi bi-pen"
            (click)="startEditing(item.id)"
          ></i>
          <button class="delete-button" (click)="deleteTask(item.id)">x</button>
          <div
              *ngIf="item.id !== editedItemId"
              [contentEditable]="item.id === editedItemId"
          >
            {{item.header}}
            {{item.content}}
          </div>
          <div *ngIf="item.id === editedItemId">
            <form (submit)="updateTask(item.id, item)">
              <input [(ngModel)]="item.header" name="header" required>
              <input [(ngModel)]="item.content" name="content" required>
              <button type="submit">Save</button>
              <button type="button" (click)="cancelEdit()">Cancel</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
